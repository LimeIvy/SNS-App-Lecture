# チャプター1: 導入

## 1. このチャプターの目標

- SNSアプリ開発の全体像と目的を理解する。
- 開発に必要なソフトウェア・モジュールを自分のコンピューターに準備する。
- **GitHubからプロジェクトのひな形をダウンロードし、自分の開発環境で動かす。**
- プロジェクトを起動して、最初の画面がブラウザに表示されることを確認する。

## 2. はじめてのアプリ開発

### 2.1. これから作るもの

ここでは、有名なのSNSである「X（旧Twitter）」の基本的な機能を持つウェブアプリケーションを作成します。具体的には、以下のような機能を作成します。

- **ユーザー登録・ログイン:** 自分だけのアカウントを作って、アプリを使えるようにします。
- **投稿作成:**短いメッセージや画像を投稿できます。
- **タイムライン表示:** 自分や他の人の投稿を時系列で見ることができます。
- **プロフィール表示・編集:** 自分の紹介ページを作ったり、編集したりできます。
- **フォロー機能:** 気になるユーザーをフォローして、その人の投稿を追いかけやすくします。
- **返信機能:** 他の人の投稿にコメントを付けられます。

このチュートリアルを通して、これらの機能がどのように作られていくのかを一つ一つ学んでいきましょう。

### 2.2. 開発に使う技術スタック紹介

今回は主に以下の技術を使います。

- **Next.js**

  - ウェブサイトやウェブアプリを作るための「骨組み」のようなものです（専門用語ではフレームワークと呼びます）。ReactベースのJavaScriptフレームワークであり、効率よく高機能なサイトを作るのを助けてくれます。

- **React**
  - Webサイト上のUIパーツを構築するためのJavaScriptライブラリです。
  - コンポーネントという部品を作り、それを組み合わせることでwebアプリを構築します。
- **TypeScript**
  - JavaScriptというプログラミング言語を、より安全で大規模な開発にも向くように拡張したものです。コードの間違いを早期に発見しやすくする「型」という仕組みがあります。
- **Tailwind CSS**
  - utility classを使って独自にデザインを行ってコンポーネントを構築するCSSフレームワークです
  - これを用いることで素早く実装できます
- **Supabase**
  - PostgreSQLをベースにしたオープンソースのバックエンドサービスです。
  - ユーザー登録やログインの仕組み（認証）、データの保存場所（データベース）やストレージ機能などを提供してくれます。

### 2.3. 環境構築

実際にコードを書き始める前に、開発に必要なソフトウェアをにインストールしましょう。

#### 2.3.1. Node.jsと npm

- **Node.js とは？**
  - JavaScriptはもともとウェブブラウザの中で動く言語でしたが、Node.jsを使うと自分のコンピューター上（サーバーサイドなど）でもJavaScriptを実行できるようになります。
- **npm とは？**
  - Node Package Manager の略で、Node.jsのパッケージ（便利なプログラムの集まり）を管理するツールです。Node.jsをインストールすると、通常npmも一緒にインストールされます。
- **インストール方法:**

  1. [Node.js公式サイト](https://nodejs.org/) にアクセスします。
  2. 「node.js(LTS)をダウンロードする」というボタンをクリックして、インストーラーをダウンロードします。
  3. ダウンロードしたインストーラーを実行し、画面の指示に従ってインストールします。

  #### 参考になるURL: [Node.jsをインストールする](https://qiita.com/sefoo0104/items/0653c935ea4a4db9dc2b)

- **インストール確認:**
  - コンピューターの「ターミナル」（コマンドプロンプトやPowerShell）を開きます。
  - 以下のコマンドをそれぞれ入力し、Enterキーを押します。バージョン番号が表示されれば成功です。
    ```bash
    node -v
    npm -v
    ```
    実行例:
    ```
    v18.17.0
    9.6.7
    ```
    (バージョン番号はインストール時期によって異なります)

#### 2.3.2. VS Code

- **VS Code とは？**
  - Microsoftが開発している、無料で高機能な「コードを書くための専用メモ帳」のようなものです（専門用語ではコードエディタや統合開発環境(IDE)と呼びます）。多くのプログラマーに愛用されています。
- **インストール方法:**
  1. [VS Code公式サイト](https://code.visualstudio.com/) にアクセスします。
  2. お使いのOSに合ったインストーラーをダウンロードし、実行します。
- **おすすめ拡張機能 (任意):**
  - VS Codeには便利な拡張機能がたくさんあります。いくつかおすすめなものを紹介します。
    - `Prettier - Code formatter`: コードを自動で整形してくれます。
    - `ESLint`: JavaScript/TypeScriptのコードのエラーや良くない書き方を教えてくれます。
    - `Tailwind CSS IntelliSense`: Tailwind CSSのクラス名を補完してくれます。

#### 2.3.3. Git と GitHub

- **Git (ギット) とは？**
  - プログラムのコードやファイルの変更履歴を記録・管理するための「バージョン管理システム」と呼ばれるツールです。いつ、誰が、何をどのように変更したかを記録できるため、複数人での開発や、過去の状態に戻したい場合に非常に役立ちます。
- **GitHub (ギットハブ) とは？**
  - Gitで管理されているプロジェクトをインターネット上で保存・共有できるウェブサービスです。世界中の多くの開発者が利用しており、他の人と協力してプロジェクトを進めるための機能も豊富です。
  - 今回のチュートリアルでは、あらかじめGitHubに用意されたプロジェクトのひな形をダウンロードして開発を始めます。
- **Gitのインストール**
  - [Git公式サイト](https://git-scm.com/downloads) からお使いのOS用のインストーラーをダウンロードして実行します。
  - インストール確認 (ターミナルで):
    ```bash
    git --version
    ```
    バージョンが表示されればOKです。
  #### 参考になるURL: [Gitのインストール方法(Windows版)](https://qiita.com/takeru-hirai/items/4fbe6593d42f9a844b1c)

### 2.4. プロジェクトの準備: GitHubからクローンしよう

このチュートリアルでは、Next.jsプロジェクトを一から作成する代わりに、あらかじめ用意されたプロジェクトのひな形（テンプレート）をGitHubからダウンロードして使用します。この操作を「クローン(clone)」と呼びます。

- **プロジェクトを保存する場所へ移動:**
  - ターミナルを開き、`cd`コマンドを使って、プロジェクトを保存したいフォルダに移動します。例えば、デスクトップに`Developments`というフォルダを作り、その中にプロジェクトを作りたい場合は以下のようになります。
    ```bash
    cd Desktop
    mkdir Developments
    cd Developments
    ```
- **GitHubからプロジェクトをクローン:**
  - 以下のコマンドをターミナルで実行します。これにより、`X-Clone` という名前のフォルダが作成され、その中にプロジェクトファイルがダウンロードされます。
    ```bash
    git clone https://github.com/LimeIvy/X-Clone.git
    ```
- **プロジェクトフォルダへ移動:**
  - クローンが終わったら、作成されたプロジェクトフォルダに移動し、vscodeを開きます
    ```bash
    cd X-Clone
    vscode .
    ```
- **必要なパッケージのインストール:**
  - プロジェクトを動かすためには、様々な部品（ライブラリやツールなど）が必要です。これらをまとめてインストールします。
    ```bash
    npm install
    ```
    (もし `yarn` を使っている場合は `yarn install`)
    しばらく時間がかかりますが、エラーが出ずに完了すれば準備OKです。

### 2.5. 基本的なフォルダ構成

GitHubからクローンしたプロジェクトフォルダの中身を見てみましょう。Next.jsの標準的な構成をベースに、このX-Cloneプロジェクト用にいくつかのファイルやフォルダが配置されています。

```
X-Clone/
├── .gitignore
├── README.md
├── app/
│   ├── [userId]/
│   │   └── [postId]/
│   │   │   └── page.tsx  # 投稿詳細ページ
│   │   ├── favicon.ico
│   │   ├── globals.css       # 全体的なCSSスタイル
│   │   ├── layout.tsx        # 全ページ共通のレイアウト
│   │   ├── page.tsx          # トップページ
│   │   └── profile/          # プロフィール関連の仮置き (実際のプロフィールページは [userId]/page.tsx)
│   │   └── page.tsx
│   ├── components/             # 再利用可能なUI部品 (コンポーネント)
│   │   ├── Post.tsx
│   │   ├── PostForm.tsx
│   │   ├── ReplyForm.tsx
│   │   └── sidebar/
│   │   │   ├── LeftSidebar.tsx
│   │   │   └── RightSidebar.tsx
│   │   ├── data/                   # ダミーデータや初期データ (開発用)
│   │   │   ├── posts.ts
│   │   │   └── profile.ts
│   │   ├── eslint.config.mjs       # ESLint (コードチェックツール) の設定ファイル
│   │   ├── next.config.ts          # Next.js自体の設定ファイル
│   │   ├── package-lock.json
│   │   └── package.json            # プロジェクトの情報や依存パッケージのリスト
│   │   ├── postcss.config.mjs      # PostCSS (CSS処理ツール) の設定
│   │   ├── presentation-comprehensive.md # プレゼンテーション資料
│   │   └── public/                 # 画像などの静的ファイル置き場
│   │   │   ├── X.png
│   │   │   ├── file.svg
│   │   │   ├── globe.svg
│   │   │   ├── icon.png
│   │   │   ├── next.svg
│   │   │   ├── vercel.svg
│   │   │   └── window.svg
│   │   └── todo.md                 # TODOリスト
│   └── tsconfig.json           # TypeScriptの設定ファイル

```

- **`app` フォルダ:** アプリケーションの各ページや主要なコードがここに配置されます。
  - `layout.tsx`: 全てのページに共通する基本的な枠組み（ヘッダー、フッターなど）を定義します。
  - `page.tsx`: 各ページの本体となるファイルです。例えば、ルートの `app/page.tsx` はトップページ (`http://localhost:3000/`) に対応します。
  - `[userId]/[postId]/page.tsx`: のように角括弧 `[]` で囲まれたフォルダ名は「動的ルート」と呼ばれ、URLの一部が可変であることを示します。例えば、ユーザーIDや投稿IDによって表示内容が変わるページに使われます。
- **`components` フォルダ:** ボタン、フォーム、カードなど、アプリ内で繰り返し使われるUI部品（コンポーネント）をまとめておく場所です。
- **`public` フォルダ:** 画像ファイル（`.png`, `.svg`など）やフォントファイルといった、プログラムの外部から直接アクセスされる静的なファイルを置きます。
- **`utils` フォルダ (まだ作成していませんが、次のチャプターで作成します):** データベース接続の設定や、共通で使う補助関数など、特定のUI部品ではない便利機能をまとめる場所です。
- **`package.json`:** このプロジェクトがどのような部品（ライブラリ）に依存しているか、プロジェクト名、バージョンなどが書かれた設定ファイルです。`npm install` を実行すると、このファイルに基づいて必要なライブラリが `node_modules` フォルダ（`.gitignore` により通常は表示されません）にダウンロードされます。
- **`.gitignore`:** Gitバージョン管理システムに対して、どのファイルやフォルダを追跡対象外にするかを指定します。`node_modules` や `.env.local` (次のチャプターで作成) などが含まれます。
- その他設定ファイル (`next.config.ts`, `tailwind.config.ts`, `tsconfig.json` など): それぞれNext.js、Tailwind CSS、TypeScriptの動作を細かく設定するためのファイルです。最初はあまり触る必要はありません。

特に `app` フォルダと `components` フォルダが、これから私たちが主にコードを書いていく場所になります。

## 3. プロジェクトを起動してみよう！

プロジェクトを実際に動かしてみましょう。

### 3.1. 開発サーバーの起動

1.  ターミナルで、カレントディレクトリがプロジェクトルート (`X-Clone` フォルダの直下) にいることを確認してください。
2.  以下のコマンドを実行します。
    ```bash
    npm run dev
    ```
3.  成功すると、ターミナルに以下のようなメッセージが表示されます。
    ```
    ✓ Ready in X.Xs
    ○ Compiling / ...
    ✓ Compiled / in X.Xs
    > Local:    http://localhost:3000
    ```
4.  ウェブブラウザを開き、アドレスバーに `http://localhost:3000` と入力してアクセスします。

    （画像イメージ: `資料/0.導入/initial_page.png` のような、クローンしたプロジェクトの初期ページが表示されているブラウザのスクリーンショットがあれば挿入）

    プロジェクトの初期ページが表示されれば成功です！

次のチャプターでは、いよいよSupabaseというデータベースサービスに接続して、データを保存する準備を始めます。

#### `app/page.tsx`

```tsx
// プロジェクトの初期状態によって内容は異なります。
// シンプルな「Hello World」のような表示かもしれませんし、
// すでに何らかのUIが組まれているかもしれません。

export default function Home() {
  return (
    <main>
      <h1>X-Cloneへようこそ！</h1>
      {/* 他の初期コンテンツ */}
    </main>
  );
}
```

- これが `http://localhost:3000` で表示されているトップページ（ホームページ）の本体です。
- `Home` という名前の関数が、ページの見た目や構造を返しています。

#### Tailwind CSSの準備

このプロジェクトでは、Tailwind CSSを使って見た目を効率的に作成していきます。必要な設定はプロジェクトの初期セットアップに含まれており、`postcss.config.mjs` ファイルでTailwind CSSプラグインが読み込まれるようになっています。

```mjs
// postcss.config.mjs (プロジェクトに存在するはずです)
const config = {
  plugins: ["@tailwindcss/postcss"],
};

export default config;
```

また、`app/globals.css` には、Tailwind CSSを有効にするための基本的な記述がされている（または追記する）ことで、すぐにユーティリティクラスを使い始めることができます。

```css
/* app/globals.css の先頭にあることを確認、または追記 */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* プロジェクト固有の基本スタイルが定義されている可能性あり */
body {
  /* 例: background-color: #000; color: #fff; */
}
```

これにより、HTMLのクラス属性にTailwind CSSのクラス名を指定するだけで、簡単にスタイルを適用できます。詳細なカスタマイズを行いたい場合は、プロジェクトルートに `tailwind.config.js` (または `.ts`) ファイルを別途作成して編集することも可能です。

### 3.3. `.gitignore` ファイル

```
node_modules
.env.local
```
